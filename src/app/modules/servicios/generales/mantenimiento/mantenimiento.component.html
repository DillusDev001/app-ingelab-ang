<div class="w-full h-full">

    <app-custom-loading *ngIf="isLoading" ></app-custom-loading>

    <app-custom-add-servicio
        *ngIf="showAlertAddServicio"
        [id]="'id_input_alert'"
        [title]="lblTitleServicio"
        [label1]="'Nombre Servicio'"
        [label2]="'Descripción Servicio'"
        [class]="''"
        [icon]="''"
        [servicio]="objServicioEdit"
        (onResponse)="reciveCustomInputServicio($event)" >
    </app-custom-add-servicio>

    <app-custom-card-cuenta *ngIf="showCardCuenta" 
        [label]="labelCuenta" 
        [id_servicio]="idServicioSend"
        (response)="responseCuenta($event)" >
    </app-custom-card-cuenta>

    <app-custom-add-sub-servicio
        *ngIf="showAlertAddSubServicio"
        [id]="'id_input_alert'"
        [title]="lblTitleSubServicio"
        [class]="''"
        [subServicio]="objSubServicioEdit"
        (onResponseSubServicio)="reciveCustomInputSubServicio($event)" >
    </app-custom-add-sub-servicio>

    <div *ngIf="!showAlertAddServicio && !showAlertAddSubServicio && !isLoading && !showCardCuenta" class="flex flex-col md:grid md:grid-cols-3 w-full h-full gap-4">
        <div class="flex items-center md:items-stretch flex-row md:flex-col gap-4 overflow-y-hidden md:overflow-y-auto overflow-x-auto w-full h-max md:h-full py-4 md:py-0">
            <app-custom-button
                class="w-max"
                [id] ="'id_btn_agregar_servicio'"
                [label] ="'Agregar Servicio'"
                [type] ="'accept'"
                [icon] ="'fa-solid fa-circle-plus fa-lg'"
                [class] ="'bg-color-info hover:bg-color-info-hover'"
                [valid] ="true"
                (click)="onClickAgregarServicio()" >
            </app-custom-button>

            <div class="flex flex-col gap-4 shadow-lg w-full h-full overflow-auto">
                <app-custom-card-servicio
                    class="w-max md:w-full h-max"
                    *ngFor="let item of dataServicios, index as i"
                    [servicio]="item"
                    [index]="i"
                    [class]="'cursor-pointer'"
                    [selected]="selectedServicio"
                    (click)="onClickSelectCardServicio(item.nombre, i)"
                    (response)="reciveButton($event)" >
                </app-custom-card-servicio> 
            </div>           
        </div>
    
        <div class="flex flex-col gap-4 md:col-span-2 grow w-full h-full">
            <div class="flex md:flex-row-reverse w-full h-max">
                <app-custom-button
                    class="w-max"
                    [id] ="'id_btn_agregar_servicio'"
                    [label] ="'Agregar Sub-Servicio'"
                    [type] ="'accept'"
                    [icon] ="'fa-solid fa-circle-plus fa-lg'"
                    [class] ="'bg-color-button-1 hover:bg-color-button-1-hover'"
                    [valid] ="true"
                    (click)="onClickAgregarSubServicio()" >
                </app-custom-button>
            </div>

            <div class="overflow-auto shadow-md border rounded-lg grow ">
                <table class="w-full text-sm text-center rtl:text-right text-primary-500">
                    <thead class="text-sm text-primary-800 uppercase bg-primary-50">
                        <tr>
                            <th scope="col" class="p-3">
                                #
                            </th>
    
                            <th scope="col" class="p-3">
                                Nombre
                            </th>

                            <th scope="col" class="p-3">
                                Descripción
                            </th>
    
                            <th scope="col" class="p-3">
                                Acciones
                            </th>
                        </tr>
                    </thead>
    
                    <tbody>
                        <tr class="text-primary-800 text-left bg-primary-50"
                            *ngFor="let item of dataServicioSubServicios; index as i"
                            [ngClass]="{'bg-white': i % 2 == 0}">
                            <td class="p-2 text-center font-bold border">
                                {{ i + 1 }}
                            </td>
    
                            <td class="px-2 py-2 border">
                                {{ item.nombre }}
                            </td>

                            <td class="px-2 py-2 border">
                                {{ item.descripcion }}
                            </td>
    
                            <td class="px-2 py-2 border">
                                <div class="flex justify-around gap-4">
                                    Editar
                                    <app-custom-icon
                                        [icon]="'fa-solid fa-pen-to-square fa-lg'"
                                        [class]="'text-color-info cursor-pointer hover:text-color-info-hover'"
                                        (click)="onClickEditarSubServicio(i)" >
                                    </app-custom-icon>
    
                                    <!--
                                    <app-custom-icon
                                        [icon]="'fa-solid fa-trash fa-lg'"
                                        [class]="'text-color-error cursor-pointer hover:text-color-error-hover'"
                                        (click)="onClickRemoveSubServicio(i)" >
                                    </app-custom-icon>
                                    -->
                                </div>
                            </td>
                        </tr>
                    </tbody>
    
                </table>
            </div>
        </div>
    </div>

</div>
